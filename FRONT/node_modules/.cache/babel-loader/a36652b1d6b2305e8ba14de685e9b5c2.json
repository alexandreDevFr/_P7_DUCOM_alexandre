{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, vModelText as _vModelText, withDirectives as _withDirectives, vShow as _vShow, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '@/assets/logo.png';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-cba730ac\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"post_head\"\n};\nconst _hoisted_3 = {\n  class: \"post_body\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"post_footer\"\n};\nconst _hoisted_6 = {\n  class: \"post_footer_review\"\n};\nconst _hoisted_7 = [\"onClick\"];\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa-solid fa-thumbs-up like\"\n}, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_9 = {\n  class: \"post_footer_modify\"\n};\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = {\n  class: \"post_admin\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"post_head_admin\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, \"John DOE le 30/08/2019\"), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"badge\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, \"Administrateur\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"post_body\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\"\n}), /*#__PURE__*/_createElementVNode(\"p\", null, \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia, molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium optio, eaque rerum! Provident similique accusantium nemo autem. Veritatis obcaecati tenetur iure eius earum ut molestias architecto voluptate aliquam nihil, eveniet aliquid culpa officia aut! Impedit sit sunt quaerat, odit, tenetur error, harum nesciunt ipsum debitis quas aliquid.\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_14 = {\n  class: \"post_footer\"\n};\n\nconst _hoisted_15 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"post_footer_review\\\" data-v-cba730ac><a href=\\\"\\\" data-v-cba730ac><i class=\\\"fa-solid fa-thumbs-up like\\\" data-v-cba730ac></i><p data-v-cba730ac> (0)</p></a><a href=\\\"\\\" data-v-cba730ac><i class=\\\"fa-solid fa-thumbs-down dislike\\\" data-v-cba730ac></i><p data-v-cba730ac> (3)</p></a></div>\", 1);\n\nconst _hoisted_16 = {\n  class: \"post_footer_modify\"\n};\n\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", null, \"Supprimer\", -1\n/* HOISTED */\n));\n\nconst _hoisted_18 = {\n  class: \"new_modal\"\n};\nconst _hoisted_19 = {\n  enctype: \"multipart/form-data\"\n};\nconst _hoisted_20 = {\n  class: \"new_modal_box\"\n};\n\nconst _hoisted_21 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"new_modal_box_head\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, \"Nouveau Message\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_22 = {\n  class: \"new_modal_box__body\"\n};\n\nconst _hoisted_23 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_24 = {\n  class: \"new_modal_box_body_image\"\n};\nconst _hoisted_25 = {\n  class: \"new_modal_box_footer\"\n};\n\nconst _hoisted_26 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", null, \"Envoyer\", -1\n/* HOISTED */\n));\n\nconst _hoisted_27 = [_hoisted_26];\n\nconst _hoisted_28 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", null, \"+\", -1\n/* HOISTED */\n));\n\nconst _hoisted_29 = [_hoisted_28];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_HeaderView = _resolveComponent(\"HeaderView\");\n\n  const _component_ModifyComponent = _resolveComponent(\"ModifyComponent\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", null, [_createVNode(_component_HeaderView)]), _createElementVNode(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.posts, post => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: post._id,\n      class: \"post\"\n    }, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"p\", null, _toDisplayString(post.nom) + \" \" + _toDisplayString(post.prenom) + \" le \" + _toDisplayString(post.date), 1\n    /* TEXT */\n    )]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n      src: post.imageUrl,\n      alt: \"\"\n    }, null, 8\n    /* PROPS */\n    , _hoisted_4), _createElementVNode(\"p\", null, _toDisplayString(post.description), 1\n    /* TEXT */\n    ), _createElementVNode(\"p\", null, _toDisplayString(post._id), 1\n    /* TEXT */\n    )]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"a\", {\n      onClick: _withModifiers($event => $options.Like(post._id), [\"prevent\"])\n    }, [_hoisted_8, _createElementVNode(\"p\", null, \" (\" + _toDisplayString(post.likes) + \")\", 1\n    /* TEXT */\n    )], 8\n    /* PROPS */\n    , _hoisted_7)]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"a\", {\n      onClick: _cache[0] || (_cache[0] = (...args) => $options.onToggleUpdate && $options.onToggleUpdate(...args))\n    }, \"Modifier\"), _createElementVNode(\"a\", {\n      onClick: _withModifiers($event => $options.DelPost(post._id), [\"prevent\"])\n    }, \"Supprimer\", 8\n    /* PROPS */\n    , _hoisted_10)])])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _hoisted_13, _createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"a\", {\n    onClick: _cache[1] || (_cache[1] = $event => $data.isModify = !$data.isModify)\n  }, \"Modifier\"), _hoisted_17])])])]), _withDirectives(_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"form\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_hoisted_21, _createElementVNode(\"div\", _hoisted_22, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.description = $event),\n    type: \"text\",\n    placeholder: \"Ã‰crire un message...\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $data.description]]), _hoisted_23, _createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"input\", {\n    onChange: _cache[3] || (_cache[3] = $event => $options.onFileChange($event)),\n    type: \"file\",\n    id: \"avatar\",\n    name: \"avatar\",\n    accept: \"image/png, image/jpeg\"\n  }, null, 32\n  /* HYDRATE_EVENTS */\n  )])]), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = _withModifiers($event => $options.NewPost(), [\"prevent\"]))\n  }, _hoisted_27)])])])], 512\n  /* NEED_PATCH */\n  ), [[_vShow, $data.isNew]]), _createElementVNode(\"div\", {\n    class: \"new\",\n    onClick: _cache[5] || (_cache[5] = $event => $data.isNew = !$data.isNew)\n  }, _hoisted_29), $data.isModify ? (_openBlock(), _createBlock(_component_ModifyComponent, {\n    key: 0,\n    onClose: $options.onToggleUpdate\n  }, null, 8\n  /* PROPS */\n  , [\"onClose\"])) : _createCommentVNode(\"v-if\", true)], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["_imports_0","class","_createElementVNode","src","alt","enctype","_hoisted_26","_hoisted_28","_createVNode","_component_HeaderView","_createElementBlock","_Fragment","_renderList","$data","post","key","_id","_toDisplayString","nom","prenom","date","imageUrl","description","onClick","$options","_hoisted_8","likes","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_15","_hoisted_17","_hoisted_21","$event","type","placeholder","_hoisted_23","onChange","id","name","accept","_createBlock","_component_ModifyComponent","onClose"],"sourceRoot":"","sources":["C:\\Users\\Alex_PC\\Desktop\\P7_Projet\\_FRONT\\groupomania\\src\\views\\DashBoard.vue"],"sourcesContent":["<template>\n  <div>\n    <HeaderView />\n  </div>\n  <div class=\"container\">\n    <div v-for=\"post in posts\" :key=\"post._id\" class=\"post\">\n      <div class=\"post_head\">\n        <p>{{ post.nom }} {{ post.prenom }} le {{ post.date }}</p>\n      </div>\n      <div class=\"post_body\">\n        <img :src=\"post.imageUrl\" alt=\"\">\n        <p>{{ post.description }}</p>\n        <p>{{ post._id }}</p>\n      </div>\n      <div class=\"post_footer\">\n        <div class=\"post_footer_review\">\n          <a @click.prevent=\"Like(post._id)\"><i class=\"fa-solid fa-thumbs-up like\"></i><p> ({{ post.likes }})</p></a>\n        </div>\n        <div class=\"post_footer_modify\">\n          <a v-on:click=\"onToggleUpdate\">Modifier</a>\n          <a @click.prevent=\"DelPost(post._id)\">Supprimer</a>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"post_admin\">\n      <div class=\"post_head_admin\">\n        <p>John DOE le 30/08/2019</p>\n        <div class=\"badge\"><p>Administrateur</p></div>\n      </div>\n      <div class=\"post_body\">\n        <img src=\"@/assets/logo.png\" alt=\"\">\n        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,\n            molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum\n            numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium\n            optio, eaque rerum! Provident similique accusantium nemo autem. Veritatis\n            obcaecati tenetur iure eius earum ut molestias architecto voluptate aliquam\n            nihil, eveniet aliquid culpa officia aut! Impedit sit sunt quaerat, odit,\n            tenetur error, harum nesciunt ipsum debitis quas aliquid.</p>\n      </div>\n      <div class=\"post_footer\">\n        <div class=\"post_footer_review\">\n          <a href=\"\"><i class=\"fa-solid fa-thumbs-up like\"></i><p> (0)</p></a>\n          <a href=\"\"><i class=\"fa-solid fa-thumbs-down dislike\"></i><p> (3)</p></a>\n        </div>\n        <div class=\"post_footer_modify\">\n          <a v-on:click=\"isModify = !isModify\">Modifier</a>\n          <a>Supprimer</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div v-show=\"isNew\" class=\"new_modal\" >\n    <form enctype=\"multipart/form-data\">\n    <div class=\"new_modal_box\">\n      <div class=\"new_modal_box_head\">\n        <p>Nouveau Message</p>\n      </div>\n      <div class=\"new_modal_box__body\">\n        <input v-model=\"description\" type=\"text\" placeholder=\"Ã‰crire un message...\"><br>\n        <div class=\"new_modal_box_body_image\">\n          <input @change=\"onFileChange( $event )\" type=\"file\" id=\"avatar\" name=\"avatar\" accept=\"image/png, image/jpeg\">\n        </div>\n      </div>\n      <div class=\"new_modal_box_footer\">\n        <button @click.prevent=\"NewPost()\"><a>Envoyer</a></button>\n      </div>\n    </div>\n  </form>\n  </div>\n  <div class=\"new\" v-on:click=\"isNew = !isNew\"><a>+</a></div>\n  <ModifyComponent\n    v-if=\"isModify\"\n    :onClose=\"onToggleUpdate\"\n   />\n   \n</template>\n\n<script>\n\nimport HeaderView from '@/views/HeaderView.vue';\nimport ModifyComponent from '@/components/ModifyComponent.vue';\n\nexport default {\n  name: 'HelloWorld',\n  components: {\n    HeaderView,\n    ModifyComponent,\n  },\n  data(){\n    return{\n     isNew: false,\n     isModify: false,\n     posts: [],\n     description: '',\n     image: '',\n     file: '',\n    }\n  },\n  methods: {\n    onToggleUpdate: function() {\n      this.isModify = !this.isModify\n    },\n    NewPost() {\n      const userId = JSON.parse(localStorage.getItem(\"userId\"));\n      const token = JSON.parse(localStorage.getItem(\"token\"));\n\n      let formData = new FormData();\n      formData.append('file', this.file);\n      formData.set('data', {\n          \"userId\" : userId,\n          \"post\" : this.description,\n          \"image\" : this.file,\n          \"prenom\" : 'Alex',\n          \"nom\" : 'alex',\n        });\n\n      console.log(this.file)\n      console.log('---->1', userId); // Log du Token\n      fetch('http://localhost:3000/api/posts', {\n        method: 'POST',\n        headers: { \n            // 'Content-Type': 'application/json',\n            // 'Authorization': 'Bearer ' + `${token}`\n            'Authorization': 'Bearer ' + `${token}`,\n            'Accept': 'application/json; charset=utf-8',\n            'Content-Type': 'multipart/form-data',\n        },\n        body: JSON.stringify(\n          {\n            // userId: userId,\n            // post: this.description,\n            // image: formData,\n            // prenom: 'Alex2',\n            // nom: 'alex',\n            data: formData,\n          })\n      })\n      .then(response => {\n        response.json()\n        console.log(response)\n        // this.$router.go()\n      })\n      .catch(error => console.log(error))\n    },\n    DelPost(_id) {\n      fetch('http://localhost:3000/api/posts')\n      .then(res => res.json())\n      .then(data => {\n        this.posts = data\n      })\n      .catch(err => console.log(err.message))\n      const userId = JSON.parse(localStorage.getItem(\"userId\"));\n      const token = JSON.parse(localStorage.getItem(\"token\"));\n      fetch('http://localhost:3000/api/posts/'+ `${_id}`, {\n        method: 'DELETE',\n        headers: { \n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ' + `${token}`\n        },\n        body: JSON.stringify(\n          {\n            userId: userId,\n          })\n      })\n      .then(response => {\n        response.json()\n        console.log(response)\n        this.$router.go()\n      })\n      .catch(error => console.log(error))\n    },\n    Like(_id) {\n      const userId = JSON.parse(localStorage.getItem(\"userId\"));\n      const token = JSON.parse(localStorage.getItem(\"token\"));\n      fetch('http://localhost:3000/api/posts/'+ `${_id}` + 'like', {\n        method: 'POST',\n        headers: { \n            // 'Content-Type': 'application/json',\n            // 'Authorization': 'Bearer ' + `${token}`\n            'Authorization': 'Bearer ' + `${token}`,\n            'Accept': 'application/json; charset=utf-8',\n            'Content-Type': 'multipart/form-data',\n        },\n        body: JSON.stringify(\n          {\n            // userId: userId,\n            // post: this.description,\n            // image: formData,\n            // prenom: 'Alex2',\n            // nom: 'alex',\n            data: formData,\n          })\n      })\n      .then(response => {\n        response.json()\n        console.log(response)\n        // this.$router.go()\n      })\n      .catch(error => console.log(error))\n\n    },\n\n    onFileChange( event ){\n      this.file = event.target.files[0];\n    },\n  },\n  mounted(){\n  fetch('http://localhost:3000/api/posts')\n    .then(res => res.json())\n    .then(data => this.posts = data)\n    .catch(err => console.log(err.message))\n  },\n}\n\n</script>\n\n<style scoped>\n\n.container{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-top: 50px;\n}\n.post{\n  display: flex;\n  flex-direction: column;\n  width: 500px;\n  margin-bottom: 50px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n.post_head{\n  background-color: #4E5166 ;\n}\n\n.post_head p{\n  color: white;\n  padding: 8px;\n  padding-left: 24px;\n}\n\n.post_body{\n  padding: 8px;\n  padding-left: 24px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.post_body img{\n  width: 400px;\n}\n\n.post_body p{\n  font-size: 16px;\n}\n\n.post_footer{\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px;\n  padding-left: 24px;\n}\n\n.post_footer_review{\n  display: flex;\n}\n\n.post_footer_review a{\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n}\n\n.post_footer_review i{\n  font-size: 22px;\n}\n\n.post_footer_modify a{\n  text-decoration: underline;\n}\n\n.like{\n  color: #FFD7D7;\n}\n\n.post_footer{\n  color: #FD2D01;\n  font-size: 18px;\n}\n\n.post_footer p{\n  padding: 6px;\n}\n\n.post_footer a{\n  color: #FD2D01;\n  padding: 6px;\n}\n\n.post_admin{\n  display: flex;\n  flex-direction: column;\n  width: 500px;\n  margin-bottom: 50px;\n   box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n.post_head_admin{\n  background-color: #FFD7D7 ;\n  display: flex;\n  justify-content: space-between;\n}\n\n.post_head_admin p{\n  color: #FD2D01;\n  padding: 8px;\n  padding-left: 24px;\n}\n\n.post_head_admin .badge p{\n  background-color: #fff;\n  padding: 0;\n  margin-top: 8px;\n  margin-right: 10px;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n.new_modal{\n  display: flex;\n  flex-direction: column;\n  width: 500px;\n  margin-bottom: 120px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  margin-right: 40px;\n  background-color: #fff;\n}\n\n.new_modal_box_head{\n  background-color: #4E5166 ;\n  display: flex;\n  justify-content: space-between;\n}\n\n.new_modal_box_head p{\n  padding: 8px;\n  padding-left: 24px;\n  color: white;;\n}\n\n.new_modal_box__body{\n  padding: 8px;\n  margin-left: 36px;\n  margin-right: 36px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start\n}\n\n.new_modal_box__body input{\n  width: 100%;\n  padding-bottom: 140px;\n  padding-top: 20px;\n  padding-left: 20px;\n}\n\n.new_modal_box_body_image input{\n  padding: 0;\n}\n\n.new_modal_box_footer{\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 8px;\n  padding-left: 24px;\n}\n\n.new_modal_box_footer button{\n    background-color: #FD2D01;\n    border: 0;\n    padding: 6px;\n    margin-right: 36px;\n    margin-bottom: 24px;\n}\n\n.new_modal_box_footer a{\n    color: white;\n    text-transform: uppercase;\n    font-size: 14px;\n    padding-left: 20px;\n    padding-right: 20px;\n    text-decoration: none;\n}\n\n.new{\n  height: 64px;\n  width: 64px;\n  font-size: 64px;\n  background-color: #FD2D01;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  border-radius: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 20px;\n  margin-right: 40px;\n  cursor: pointer;\n}\n\n.new a{\n  color: #fff;\n  margin-top: -10px;\n  text-decoration: none;\n}\n\n\n\n\n\n</style>\n"]},"metadata":{},"sourceType":"module"}