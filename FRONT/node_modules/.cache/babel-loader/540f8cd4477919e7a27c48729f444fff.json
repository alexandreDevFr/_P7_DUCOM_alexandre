{"ast":null,"code":"import { object } from 'webidl-conversions';\nexport default {\n  name: 'ModifyComponent',\n  props: ['onClose', 'postId', 'onRefresh'],\n\n  data() {\n    return {\n      isNew: false,\n      isModify: false,\n      description: '',\n      image: '',\n      imageTest: '',\n      file: ''\n    };\n  },\n\n  methods: {\n    onToggleUpdate: function (id) {\n      this.toModify = id;\n      this.isModify = !this.isModify;\n    },\n    onFileChange: function (event) {\n      this.file = event.target.files[0];\n    }\n  },\n\n  mounted() {\n    const token = JSON.parse(localStorage.getItem(\"token\"));\n    fetch(`http://localhost:3000/api/posts/${this.postId}`, {\n      headers: {\n        'Authorization': 'Bearer ' + `${token}`,\n        'Accept': 'application/json; charset=utf-8',\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      this.description = data.description;\n    }).catch(err => console.log(err.message));\n  }\n\n};","map":{"version":3,"mappings":"AAsBA,SAASA,MAAT,QAAuB,oBAAvB;AAGA,eAAe;EACXC,IAAI,EAAE,iBADK;EAEXC,KAAK,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,WAAtB,CAFI;;EAGXC,IAAI,GAAE;IACN,OAAM;MACLC,KAAK,EAAE,KADF;MAELC,QAAQ,EAAE,KAFL;MAGLC,WAAW,EAAE,EAHR;MAILC,KAAK,EAAE,EAJF;MAKLC,SAAQ,EAAI,EALP;MAMLC,IAAI,EAAE;IAND,CAAN;EAQD,CAZY;;EAaXC,OAAO,EAAE;IACPC,cAAc,EAAE,UAASC,EAAT,EAAa;MAC7B,KAAKC,QAAL,GAAgBD,EAAhB;MACA,KAAKP,QAAL,GAAgB,CAAC,KAAKA,QAAtB;IACD,CAJQ;IAMTS,YAAY,EAAE,UAAUC,KAAV,EAAiB;MAC7B,KAAKN,IAAL,GAAYM,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAZ;IACD;EARQ,CAbE;;EAwBXC,OAAO,GAAE;IACP,MAAMC,KAAI,GAAIC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAd;IAEAC,KAAK,CAAE,mCAAkC,KAAKC,MAAO,EAAhD,EAAkD;MACrDC,OAAO,EAAE;QACH,iBAAiB,YAAa,GAAEP,KAAM,EADnC;QAEH,UAAU,iCAFP;QAGH,gBAAgB;MAHb;IAD4C,CAAlD,CAAL,CAOCQ,IAPD,CAOMC,GAAE,IAAKA,GAAG,CAACC,IAAJ,EAPb,EAQCF,IARD,CAQMxB,IAAG,IAAK;MACZ,KAAKG,WAAL,GAAmBH,IAAI,CAACG,WAAxB;IACD,CAVD,EAWCwB,KAXD,CAWOC,GAAE,IAAKC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB,CAXd;EAYH;;AAvCY,CAAf","names":["object","name","props","data","isNew","isModify","description","image","imageTest","file","methods","onToggleUpdate","id","toModify","onFileChange","event","target","files","mounted","token","JSON","parse","localStorage","getItem","fetch","postId","headers","then","res","json","catch","err","console","log","message"],"sourceRoot":"","sources":["C:\\Users\\Alex_PC\\Desktop\\P7_Projet\\_FRONT\\groupomania\\src\\components\\ModifyComponent.vue"],"sourcesContent":["<template>\r\n    <section @click.self=\"onClose()\">\r\n          <div class=\"modify_modal\" >\r\n            <div class=\"modify_modal_box\">\r\n                <div class=\"modify_modal_box_head\">\r\n                    <p>Modifier Message</p>\r\n                </div>\r\n                <div class=\"modify_modal_box__body\">\r\n                  <input v-model=\"description\" type=\"text\" placeholder=\"Ã‰crire un message...\"><br>\r\n                    <div class=\"modify_modal_box_body_image\">\r\n                      <input @change=\"onFileChange( $event )\" type=\"file\" id=\"avatar\" name=\"avatar\" accept=\"image/png, image/jpeg\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"modify_modal_box_footer\">\r\n                    <button><a @click.prevent=\"modifPost()\">Envoyer</a></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport { object } from 'webidl-conversions';\r\n\r\n\r\nexport default {\r\n    name: 'ModifyComponent',\r\n    props: ['onClose', 'postId', 'onRefresh'],\r\n    data(){\r\n    return{\r\n     isNew: false,\r\n     isModify: false,\r\n     description: '',\r\n     image: '',\r\n     imageTest : '',\r\n     file: '',\r\n    }\r\n  },\r\n    methods: {\r\n      onToggleUpdate: function(id) {\r\n      this.toModify = id\r\n      this.isModify = !this.isModify\r\n    },\r\n      \r\n    onFileChange: function( event ){\r\n      this.file = event.target.files[0];\r\n    },\r\n    },\r\n\r\n    mounted(){\r\n      const token = JSON.parse(localStorage.getItem(\"token\"));\r\n\r\n      fetch(`http://localhost:3000/api/posts/${this.postId}`,{\r\n        headers: {\r\n              'Authorization': 'Bearer ' + `${token}`,\r\n              'Accept': 'application/json; charset=utf-8',\r\n              'Content-Type': 'application/json',\r\n          },\r\n        })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        this.description = data.description\r\n      })\r\n      .catch(err => console.log(err.message))\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\nsection {\r\n    min-width: 100%;\r\n    min-height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    cursor: crosshair;\r\n}\r\n\r\n.modify_modal{\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-width: 500px;\r\n  width: 100%;\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n  position: fixed;\r\n  background-color: #fff;\r\n}\r\n\r\n.modify_modal_box_head{\r\n  background-color: #4E5166 ;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.modify_modal_box_head p{\r\n  padding: 8px;\r\n  padding-left: 24px;\r\n  color: white;;\r\n}\r\n\r\n.modify_modal_box__body{\r\n  padding: 8px;\r\n  margin-left: 36px;\r\n  margin-right: 36px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start\r\n}\r\n\r\n.modify_modal_box__body input{\r\n  width: 100%;\r\n  padding-bottom: 140px;\r\n  padding-top: 20px;\r\n  padding-left: 20px;\r\n}\r\n\r\n.modify_modal_box_body_image input{\r\n  padding: 0;\r\n}\r\n\r\n.modify_modal_box_footer{\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  padding: 8px;\r\n  padding-left: 24px;\r\n}\r\n\r\n.modify_modal_box_footer button{\r\n    background-color: #FD2D01;\r\n    border: 0;\r\n    padding: 6px;\r\n    margin-right: 36px;\r\n    margin-bottom: 24px;\r\n}\r\n\r\n.modify_modal_box_footer a{\r\n    color: white;\r\n    text-transform: uppercase;\r\n    font-size: 14px;\r\n    padding-left: 20px;\r\n    padding-right: 20px;\r\n    text-decoration: none;\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}