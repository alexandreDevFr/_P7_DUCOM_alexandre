{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-cba730ac\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_HeaderView = _resolveComponent(\"HeaderView\");\n\n  const _component_PostComponent = _resolveComponent(\"PostComponent\");\n\n  const _component_NewComponent = _resolveComponent(\"NewComponent\");\n\n  const _component_ModifyComponent = _resolveComponent(\"ModifyComponent\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", null, [_createVNode(_component_HeaderView)]), _createElementVNode(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.posts, post => {\n    return _openBlock(), _createBlock(_component_PostComponent, {\n      key: post._id,\n      post: post,\n      onModify: () => $options.onToggleUpdate(post._id),\n      onRefresh: $options.onRefresh,\n      access: $options.testRight(post.userId) ? true : false\n    }, null, 8\n    /* PROPS */\n    , [\"post\", \"onModify\", \"onRefresh\", \"access\"]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]), _createVNode(_component_NewComponent, {\n    onRefresh: $options.onRefresh\n  }, null, 8\n  /* PROPS */\n  , [\"onRefresh\"]), $data.isModify ? (_openBlock(), _createBlock(_component_ModifyComponent, {\n    key: 0,\n    onClose: $options.onToggleUpdate,\n    postId: $data.toModify,\n    onRefresh: $options.onRefresh\n  }, null, 8\n  /* PROPS */\n  , [\"onClose\", \"postId\", \"onRefresh\"])) : _createCommentVNode(\"v-if\", true)], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;;EAIOA,KAAK,EAAC;;;;;;;;;;;6DAHXC,oBAEM,KAFN,EAEM,IAFN,EAEM,CADJC,aAAcC,qBAAd,CACI,CAFN,GAGAF,oBASM,KATN,cASM,oBAPJG,oBAMEC,SANF,EAME,IANF,EAMEC,YALeC,WAKf,EALOC,IAAa,IAAT;yBADbC,aAMEC,wBANF,EAME;MALuBC,GAAG,EAAEH,IAAI,CAACI,GAKjC;MAJCJ,IAAI,EAAEA,IAIP;MAHCK,QAAQ,QAAQC,wBAAeN,IAAI,CAACI,GAApB,CAGjB;MAFCG,SAAS,EAAED,kBAEZ;MADCE,MAAM,EAAEF,mBAAUN,IAAI,CAACS,MAAf,IAAqB,IAArB,GAAqB;IAC9B,CANF;;IAAA;GAME,CANF;;EAAA,CAOI,EATN,GAWAf,aAAuCgB,uBAAvC,EAAuC;IAAxBH,SAAS,EAAED;EAAa,CAAvC,EAAmC,IAAnC,EAAmC;EAAA;EAAnC,EAAmC,aAAnC,GAEQP,gCADRE,aAKGU,0BALH,EAKG;UAAA;IAHAC,OAAO,EAAEN,uBAGT;IAFAO,MAAM,EAAEd,cAER;IADAQ,SAAS,EAAED;EACX,CALH;;EAAA","names":["class","_createElementVNode","_createVNode","_component_HeaderView","_createElementBlock","_Fragment","_renderList","$data","post","_createBlock","_component_PostComponent","key","_id","onModify","$options","onRefresh","access","userId","_component_NewComponent","_component_ModifyComponent","onClose","postId"],"sourceRoot":"","sources":["C:\\Users\\Alex_PC\\Desktop\\P7_Projet\\_FRONT\\groupomania\\src\\views\\DashBoard.vue"],"sourcesContent":["<template>\n  <div>\n    <HeaderView />\n  </div>\n  <div class=\"container\">\n\n    <PostComponent \n      v-for=\"post in posts\" :key=\"post._id\"\n      :post=\"post\" \n      :onModify=\"() => onToggleUpdate(post._id)\"\n      :onRefresh=\"onRefresh\"\n      :access=\"testRight(post.userId) ? true : false\"\n    />\n  </div>\n  \n  <NewComponent :onRefresh=\"onRefresh\" />\n  <ModifyComponent\n    v-if=\"isModify\"\n    :onClose=\"onToggleUpdate\"\n    :postId=\"toModify\"\n    :onRefresh=\"onRefresh\"\n   />\n</template>\n\n<script>\nimport HeaderView from '@/views/HeaderView.vue';\nimport ModifyComponent from '@/components/ModifyComponent.vue';\nimport VueRouter from 'vue-router';\nimport PostComponent from '@/components/PostComponent.vue';\nimport NewComponent from '@/components/NewComponent.vue';\n\nexport default {\n\n  components: {\n    HeaderView,\n    ModifyComponent,\n    PostComponent,\n    NewComponent,\n  },\n  data(){\n    return{\n     isNew: false,\n     isModify: false,\n     toModify: 0,\n     posts: [],\n     description: '',\n     image: '',\n     file: '',\n    }\n  },\n  methods: {\n    onToggleUpdate: function(id) {\n      this.toModify = id\n      this.isModify = !this.isModify\n    },\n    onRefresh: function() {\n      fetch('http://localhost:3000/api/posts')\n      .then(res => res.json())\n      .then(data => {\n        this.posts = data\n        console.log(data)\n      })\n      .catch(err => console.log(err.message))\n    },\n\n    onFileChange: function( event ){\n      this.file = event.target.files[0];\n    },\n    testRight: function(userId) {\n      \n    }\n    \n  },\n\n  mounted(){\n    this.onRefresh()\n  },\n}\n\n</script>\n\n<style scoped>\n\n.container{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-top: 50px;\n}\n.post{\n  display: flex;\n  flex-direction: column;\n  width: 500px;\n  margin-bottom: 50px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n.post_head{\n  background-color: #4E5166 ;\n}\n\n.post_head p{\n  color: white;\n  padding: 8px;\n  padding-left: 24px;\n}\n\n.post_body{\n  padding: 8px;\n  padding-left: 24px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.post_body img{\n  width: 400px;\n}\n\n.post_body p{\n  font-size: 16px;\n}\n\n.post_footer{\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px;\n  padding-left: 24px;\n}\n\n.post_footer_review{\n  display: flex;\n}\n\n.post_footer_review a{\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n}\n\n.post_footer_review i{\n  font-size: 22px;\n}\n\n.post_footer_modify a{\n  text-decoration: underline;\n}\n\n.like{\n  color: #FFD7D7;\n}\n\n.post_footer{\n  color: #FD2D01;\n  font-size: 18px;\n}\n\n.post_footer p{\n  padding: 6px;\n}\n\n.post_footer a{\n  color: #FD2D01;\n  padding: 6px;\n}\n\n.post_admin{\n  display: flex;\n  flex-direction: column;\n  width: 500px;\n  margin-bottom: 50px;\n   box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n.post_head_admin{\n  background-color: #FFD7D7 ;\n  display: flex;\n  justify-content: space-between;\n}\n\n.post_head_admin p{\n  color: #FD2D01;\n  padding: 8px;\n  padding-left: 24px;\n}\n\n.post_head_admin .badge p{\n  background-color: #fff;\n  padding: 0;\n  margin-top: 8px;\n  margin-right: 10px;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n.new_modal{\n  display: flex;\n  flex-direction: column;\n  width: 500px;\n  margin-bottom: 120px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  margin-right: 40px;\n  background-color: #fff;\n}\n\n.new_modal_box_head{\n  background-color: #4E5166 ;\n  display: flex;\n  justify-content: space-between;\n}\n\n.new_modal_box_head p{\n  padding: 8px;\n  padding-left: 24px;\n  color: white;;\n}\n\n.new_modal_box__body{\n  padding: 8px;\n  margin-left: 36px;\n  margin-right: 36px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start\n}\n\n.new_modal_box__body input{\n  width: 100%;\n  padding-bottom: 140px;\n  padding-top: 20px;\n  padding-left: 20px;\n}\n\n.new_modal_box_body_image input{\n  padding: 0;\n}\n\n.new_modal_box_footer{\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 8px;\n  padding-left: 24px;\n}\n\n.new_modal_box_footer button{\n    background-color: #FD2D01;\n    border: 0;\n    padding: 6px;\n    margin-right: 36px;\n    margin-bottom: 24px;\n}\n\n.new_modal_box_footer a{\n    color: white;\n    text-transform: uppercase;\n    font-size: 14px;\n    padding-left: 20px;\n    padding-right: 20px;\n    text-decoration: none;\n}\n\n.new{\n  height: 64px;\n  width: 64px;\n  font-size: 64px;\n  background-color: #FD2D01;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  border-radius: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 20px;\n  margin-right: 40px;\n  cursor: pointer;\n}\n\n.new a{\n  color: #fff;\n  margin-top: -10px;\n  text-decoration: none;\n}\n\n\n\n\n\n</style>\n"]},"metadata":{},"sourceType":"module"}