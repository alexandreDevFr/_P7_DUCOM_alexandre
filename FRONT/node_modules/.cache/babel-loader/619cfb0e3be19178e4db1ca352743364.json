{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createStaticVNode as _createStaticVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '@/assets/logo.png';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-cba730ac\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"post_admin\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"post_head_admin\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, \"John DOE le 30/08/2019\"), /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"badge\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, \"Administrateur\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"post_body\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\"\n}), /*#__PURE__*/_createElementVNode(\"p\", null, \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia, molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium optio, eaque rerum! Provident similique accusantium nemo autem. Veritatis obcaecati tenetur iure eius earum ut molestias architecto voluptate aliquam nihil, eveniet aliquid culpa officia aut! Impedit sit sunt quaerat, odit, tenetur error, harum nesciunt ipsum debitis quas aliquid.\")], -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = {\n  class: \"post_footer\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"post_footer_review\\\" data-v-cba730ac><a href=\\\"\\\" data-v-cba730ac><i class=\\\"fa-solid fa-thumbs-up like\\\" data-v-cba730ac></i><p data-v-cba730ac> (0)</p></a><a href=\\\"\\\" data-v-cba730ac><i class=\\\"fa-solid fa-thumbs-down dislike\\\" data-v-cba730ac></i><p data-v-cba730ac> (3)</p></a></div>\", 1);\n\nconst _hoisted_7 = {\n  class: \"post_footer_modify\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", null, \"Supprimer\", -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_HeaderView = _resolveComponent(\"HeaderView\");\n\n  const _component_PostComponent = _resolveComponent(\"PostComponent\");\n\n  const _component_NewComponent = _resolveComponent(\"NewComponent\");\n\n  const _component_ModifyComponent = _resolveComponent(\"ModifyComponent\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", null, [_createVNode(_component_HeaderView)]), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_PostComponent), _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"a\", {\n    onClick: _cache[0] || (_cache[0] = $event => $data.isModify = !$data.isModify)\n  }, \"Modifier\"), _hoisted_8])])])]), _createVNode(_component_NewComponent), $data.isModify ? (_openBlock(), _createBlock(_component_ModifyComponent, {\n    key: 0,\n    onClose: $options.onToggleUpdate,\n    postId: $data.toModify,\n    onRefresh: $options.onRefresh\n  }, null, 8\n  /* PROPS */\n  , [\"onClose\", \"postId\", \"onRefresh\"])) : _createCommentVNode(\"v-if\", true)], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";OAcaA,gBAAuB;;;;;EAV7BC,KAAK,EAAC;;;EAIJA,KAAK,EAAC;;;gEACTC,oBAGM,KAHN,EAGM;EAHDD,KAAK,EAAC;AAGL,CAHN,EAA4B,cAC1BC,oBAA6B,GAA7B,EAA6B,IAA7B,EAAG,wBAAH,CAD0B,eAE1BA,oBAA8C,KAA9C,EAA8C;EAAzCD,KAAK,EAAC;AAAmC,CAA9C,EAAkB,cAACC,oBAAqB,GAArB,EAAqB,IAArB,EAAG,gBAAH,CAAD,CAAlB,CAF0B,CAA5B;;AAAA;;gEAIAA,oBASM,KATN,EASM;EATDD,KAAK,EAAC;AASL,CATN,EAAsB,cACpBC,oBAAoC,KAApC,EAAoC;EAA/BC,GAAuB,EAAvBH,UAA+B;EAAPI,GAAG,EAAC;AAAG,CAApC,CADoB,eAEpBF,oBAMiE,GANjE,EAMiE,IANjE,EAAG,+fAAH,CAFoB,CAAtB;;AAAA;;;EAUKD,KAAK,EAAC;;;;;;EAKJA,KAAK,EAAC;;;gEAETC,oBAAgB,GAAhB,EAAgB,IAAhB,EAAG,WAAH,EAAY;AAAA;AAAZ;;;;;;;;;;;6DA7BRA,oBAEM,KAFN,EAEM,IAFN,EAEM,CADJG,aAAcC,qBAAd,CACI,CAFN,GAGAJ,oBA8BM,KA9BN,cA8BM,CA5BJG,aAAgBE,wBAAhB,CA4BI,EA1BJL,oBAyBM,KAzBN,cAyBM,CAxBJM,UAwBI,EApBJC,UAoBI,EAVJP,oBASM,KATN,cASM,CARJQ,UAQI,EAJJR,oBAGM,KAHN,cAGM,CAFJA,oBAAiD,GAAjD,EAAiD;IAAzCS,OAAK,sCAAEC,iBAAQ,CAAIA,cAAd;EAAoC,CAAjD,EAAqC,UAArC,CAEI,EADJC,UACI,CAHN,CAII,CATN,CAUI,CAzBN,CA0BI,CA9BN,GA+BAR,aAAeS,uBAAf,GAEQF,gCADRG,aAKGC,0BALH,EAKG;UAAA;IAHAC,OAAO,EAAEC,uBAGT;IAFAC,MAAM,EAAEP,cAER;IADAQ,SAAS,EAAEF;EACX,CALH;;EAAA","names":["_imports_0","class","_createElementVNode","src","alt","_createVNode","_component_HeaderView","_component_PostComponent","_hoisted_3","_hoisted_4","_hoisted_6","onClick","$data","_hoisted_8","_component_NewComponent","_createBlock","_component_ModifyComponent","onClose","$options","postId","onRefresh"],"sourceRoot":"","sources":["C:\\Users\\Alex_PC\\Desktop\\P7_Projet\\_FRONT\\groupomania\\src\\views\\DashBoard.vue"],"sourcesContent":["<template>\n  <div>\n    <HeaderView />\n  </div>\n  <div class=\"container\">\n\n    <PostComponent/>\n    \n    <div class=\"post_admin\">\n      <div class=\"post_head_admin\">\n        <p>John DOE le 30/08/2019</p>\n        <div class=\"badge\"><p>Administrateur</p></div>\n      </div>\n      <div class=\"post_body\">\n        <img src=\"@/assets/logo.png\" alt=\"\">\n        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,\n            molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum\n            numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium\n            optio, eaque rerum! Provident similique accusantium nemo autem. Veritatis\n            obcaecati tenetur iure eius earum ut molestias architecto voluptate aliquam\n            nihil, eveniet aliquid culpa officia aut! Impedit sit sunt quaerat, odit,\n            tenetur error, harum nesciunt ipsum debitis quas aliquid.</p>\n      </div>\n      <div class=\"post_footer\">\n        <div class=\"post_footer_review\">\n          <a href=\"\"><i class=\"fa-solid fa-thumbs-up like\"></i><p> (0)</p></a>\n          <a href=\"\"><i class=\"fa-solid fa-thumbs-down dislike\"></i><p> (3)</p></a>\n        </div>\n        <div class=\"post_footer_modify\">\n          <a v-on:click=\"isModify = !isModify\">Modifier</a>\n          <a>Supprimer</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <NewComponent/>\n  <ModifyComponent\n    v-if=\"isModify\"\n    :onClose=\"onToggleUpdate\"\n    :postId=\"toModify\"\n    :onRefresh=\"onRefresh\"\n   />\n</template>\n\n<script>\nimport HeaderView from '@/views/HeaderView.vue';\nimport ModifyComponent from '@/components/ModifyComponent.vue';\nimport VueRouter from 'vue-router';\nimport PostComponent from '@/components/PostComponent.vue';\nimport NewComponent from '@/components/NewComponent.vue';\n\nexport default {\n  name: 'HelloWorld',\n  props: ['modifPost'],\n  components: {\n    HeaderView,\n    ModifyComponent,\n    PostComponent,\n    NewComponent,\n  },\n  data(){\n    return{\n     isNew: false,\n     isModify: false,\n     toModify: 0,\n     posts: [],\n     description: '',\n     image: '',\n     file: '',\n    }\n  },\n  methods: {\n    onToggleUpdate: function(id) {\n      this.toModify = id\n      this.isModify = !this.isModify\n    },\n    DelPost: function (_id) {\n      fetch('http://localhost:3000/api/posts')\n      .then(res => res.json())\n      .then(data => {\n        this.posts = data\n      })\n      .catch(err => console.log(err.message))\n      const userId = JSON.parse(localStorage.getItem(\"userId\"));\n      const token = JSON.parse(localStorage.getItem(\"token\"));\n      fetch('http://localhost:3000/api/posts/'+ `${_id}`, {\n        method: 'DELETE',\n        headers: { \n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ' + `${token}`\n        },\n        body: JSON.stringify(\n          {\n            userId: userId,\n          })\n      })\n      .then(response => {\n        response.json()\n        console.log(response)\n        // this.$router.go()\n      })\n      .catch(error => console.log(error))\n    },\n    Like: function(post) {\n\n      const userId = JSON.parse(localStorage.getItem(\"userId\"));\n      const token = JSON.parse(localStorage.getItem(\"token\"));\n      const postId = post._id;\n      const postusersLiked = JSON.stringify(post.usersLiked);\n\n        fetch('http://localhost:3000/api/posts/'+ `${postId}` + '/like', {\n        method: 'POST',\n        headers: {\n            'Authorization': 'Bearer ' + `${token}`,\n            'Accept': 'application/json; charset=utf-8',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(\n          {\n            userId: userId,\n            like : postusersLiked.includes(userId) ? -1 : 1,\n          })\n      })\n      .then(response => response.json())\n      .then(data => {\n        this.onRefresh()\n        console.log(data)\n      })\n      .catch(error => console.log(error));\n\n\n    },\n\n    onRefresh: function() {\n      fetch('http://localhost:3000/api/posts')\n      .then(res => res.json())\n      .then(data => this.posts = data)\n      .catch(err => console.log(err.message))\n    },\n\n    onFileChange: function( event ){\n      this.file = event.target.files[0];\n    },\n    \n  },\n\n  mounted(){\n    this.onRefresh()\n  },\n}\n\n</script>\n\n<style scoped>\n\n.container{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-top: 50px;\n}\n.post{\n  display: flex;\n  flex-direction: column;\n  width: 500px;\n  margin-bottom: 50px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n.post_head{\n  background-color: #4E5166 ;\n}\n\n.post_head p{\n  color: white;\n  padding: 8px;\n  padding-left: 24px;\n}\n\n.post_body{\n  padding: 8px;\n  padding-left: 24px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.post_body img{\n  width: 400px;\n}\n\n.post_body p{\n  font-size: 16px;\n}\n\n.post_footer{\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px;\n  padding-left: 24px;\n}\n\n.post_footer_review{\n  display: flex;\n}\n\n.post_footer_review a{\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n}\n\n.post_footer_review i{\n  font-size: 22px;\n}\n\n.post_footer_modify a{\n  text-decoration: underline;\n}\n\n.like{\n  color: #FFD7D7;\n}\n\n.post_footer{\n  color: #FD2D01;\n  font-size: 18px;\n}\n\n.post_footer p{\n  padding: 6px;\n}\n\n.post_footer a{\n  color: #FD2D01;\n  padding: 6px;\n}\n\n.post_admin{\n  display: flex;\n  flex-direction: column;\n  width: 500px;\n  margin-bottom: 50px;\n   box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n.post_head_admin{\n  background-color: #FFD7D7 ;\n  display: flex;\n  justify-content: space-between;\n}\n\n.post_head_admin p{\n  color: #FD2D01;\n  padding: 8px;\n  padding-left: 24px;\n}\n\n.post_head_admin .badge p{\n  background-color: #fff;\n  padding: 0;\n  margin-top: 8px;\n  margin-right: 10px;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n.new_modal{\n  display: flex;\n  flex-direction: column;\n  width: 500px;\n  margin-bottom: 120px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  margin-right: 40px;\n  background-color: #fff;\n}\n\n.new_modal_box_head{\n  background-color: #4E5166 ;\n  display: flex;\n  justify-content: space-between;\n}\n\n.new_modal_box_head p{\n  padding: 8px;\n  padding-left: 24px;\n  color: white;;\n}\n\n.new_modal_box__body{\n  padding: 8px;\n  margin-left: 36px;\n  margin-right: 36px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start\n}\n\n.new_modal_box__body input{\n  width: 100%;\n  padding-bottom: 140px;\n  padding-top: 20px;\n  padding-left: 20px;\n}\n\n.new_modal_box_body_image input{\n  padding: 0;\n}\n\n.new_modal_box_footer{\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 8px;\n  padding-left: 24px;\n}\n\n.new_modal_box_footer button{\n    background-color: #FD2D01;\n    border: 0;\n    padding: 6px;\n    margin-right: 36px;\n    margin-bottom: 24px;\n}\n\n.new_modal_box_footer a{\n    color: white;\n    text-transform: uppercase;\n    font-size: 14px;\n    padding-left: 20px;\n    padding-right: 20px;\n    text-decoration: none;\n}\n\n.new{\n  height: 64px;\n  width: 64px;\n  font-size: 64px;\n  background-color: #FD2D01;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  border-radius: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 20px;\n  margin-right: 40px;\n  cursor: pointer;\n}\n\n.new a{\n  color: #fff;\n  margin-top: -10px;\n  text-decoration: none;\n}\n\n\n\n\n\n</style>\n"]},"metadata":{},"sourceType":"module"}